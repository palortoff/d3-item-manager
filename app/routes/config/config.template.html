<div class="panel panel-info config-panel">
    <div class="panel-heading">Options: <i class="fa fa-cog fa-lg pull-right"></i></div>
    <div class="panel-body">
        <div class="form-group">
            <label>Item language:</label>
            <span class="dropdown">
                <button class="btn btn-info dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
                    {{vm.locales.currentItemLanguage().name}}
                    <span class="caret"></span>
                </button>
                <ul class="dropdown-menu dropdown-menu-left" aria-labelledby="dropdownMenu1">
                    <li ng-repeat="locale in vm.locales.all()"><a href="javascript:void(0);" ng-click="vm.locales.setItemLanguageById(locale.id)">{{locale.name}}</a></li>
                </ul>
            </span>
        </div>
        <ul class="list-group">
            <li class="list-group-item  active"
                ng-click="vm.gameModesExpanded = !vm.gameModesExpanded">
                <i class="fa fa-lg" ng-class="{'fa-caret-down': !!vm.gameModesExpanded, 'fa-caret-right': !vm.gameModesExpanded}"></i>
                Game Modes
            </li>
            <li class="list-group-item"
                ng-if="vm.gameModesExpanded"
                ng-repeat="gm in vm.gameModes.all()">
                {{gm}}
                <i class="fa fa-times-circle fa-lg pull-right text-danger"
                   title="Delete"
                   ng-click="vm.gameModes.remove(gm)"
                   ng-if="vm.gameModes.all().length > 1"></i>
            </li>
            <li class="list-group-item"
                ng-if="vm.gameModesExpanded">
                <form class="form-inline" ng-submit="vm.addNewGameMode()">
                    <div class="form-group">
                        <div class="input-group">
                            <input type="text" class="form-control" placeholder="add new Game Mode" ng-model="vm.newGameMode" title="add new Game Mode, e.g. for another region">
                            <div class="input-group-addon"><i class="fa fa-lg fa-plus-circle pull-right text-success" ng-click="vm.addNewGameMode()"></i></div>
                        </div>
                    </div>
                </form>
            </li>
        </ul>
        <ul class="list-group">
            <li class="list-group-item  active"
                ng-click="vm.columnsExpanded = !vm.columnsExpanded">
                <i class="fa fa-lg" ng-class="{'fa-caret-down': !!vm.columnsExpanded, 'fa-caret-right': !vm.columnsExpanded}"></i>
                Columns
            </li>
            <li class="list-group-item"
                ng-if="vm.columnsExpanded">
                Cubed
            </li>
            <li class="list-group-item"
                ng-if="vm.columnsExpanded"
                ng-repeat="column in vm.columns.all()">
                {{column}}
                <i class="fa fa-times-circle fa-lg pull-right text-danger"
                   title="Delete"
                   ng-click="vm.columns.remove(column)"></i>
            </li>
            <li class="list-group-item"
                ng-if="vm.columnsExpanded">
                <form class="form-inline" ng-submit="vm.addNewColumn()">
                    <div class="form-group">
                        <div class="input-group">
                            <input type="text" class="form-control" placeholder="add new Column" ng-model="vm.newColumn" title="add new column, e.g. Anchient/Transmog">
                            <div class="input-group-addon"><i class="fa fa-lg fa-plus-circle pull-right text-success" ng-click="vm.addNewColumn()"></i></div>
                        </div>
                    </div>
                </form>
            </li>
        </ul>
        <ul class="list-group backup-restore">
            <li class="list-group-item active"
                ng-click="vm.backupExpanded = !vm.backupExpanded">
                <i class="fa fa-lg" ng-class="{'fa-caret-down': !!vm.backupExpanded, 'fa-caret-right': !vm.backupExpanded}"></i>
                Backup / Restore / Export
            </li>
            <li class="list-group-item" ng-if="vm.backupExpanded">
                <button class="btn btn-sm btn-info"
                        download-data
                        dd-getter="vm.backupData()"
                        dd-json="true"
                        dd-filename="'d3-item-manager.json'">Backup data</button>
                Backup all data for restoring it later.
            </li>
            <li class="list-group-item" ng-if="vm.backupExpanded">
                <button class="btn btn-sm btn-info" ng-click="vm.triggerRestore()">Restore data</button>
                Restore data with a backup file
            </li>
            <li class="list-group-item" ng-if="vm.backupExpanded">
                <button class="btn btn-sm btn-info"
                        download-data
                        dd-getter="vm.exportData()"
                        dd-encoding="utf8"
                        dd-filename="'d3-item-manager.csv'">Export data</button>
                Export data, to import into Excel etc.
            </li>
        </ul>
        <p><strong>Note</strong>: Deleting game modes or columns will not delete the saved data. Data can be recovered by re-adding a game mode, season or column of the same name.</p>
        <p><strong>Note</strong>: To display the items vulnerable to data loss up until v1.3.7 click <a href="javascript:void(0);" ng-click="vm.showCategory(25)">here</a></p>
    </div>
    <div class="panel-footer">
        <button class="btn btn-primary" ng-click="vm.dismiss()">Close</button>
    </div>
</div>